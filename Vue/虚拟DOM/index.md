# 虚拟 DOM

首先什么是虚拟 DOM?

由于在浏览器中操作 DOM 是一件很昂贵的事情，频繁的 DOM 操作，会产生一定的性能问题，因此诞生了虚拟 DOM。**其本质就是用 JS 对象去描述一个 DOM 节点，是对真实 DOM 的一层抽象**。

- **优点：**

1. 保证性能下限：框架的虚拟 DOM 需要适配任何上层 API 可能产生的操作，它的一些 DOM 操作必须是普适的，所以它的性能不是最优的；但是相比原生的 DOM 操作必然是要好很多，因此框架的虚拟 DOM 至少可以保证在不需要手动优化的情况下，依然可以提供不错的性能，即保证性能的下限；
2. 无需手动操作 DOM：我们不再需要手动去操作 DOM，只需要写好 View-Model 的代码逻辑，框架就会根据虚拟 DOM 和数据双向绑定，帮我们去以可预期的方式去更新视图，极大的提高开发效率；
3. 跨平台：虚拟 DOM 本质上是 JavaScript 对象，而 DOM 与平台强相关，相比之下虚拟 DOM 可以进行更方便的跨平台操作，例如服务器渲染、weex 开发等。

- **缺点：**

1. 无法进行极致化优化：虽然虚拟 DOM+合理的优化足以满足绝大部分应用的性能需求，但在一些性能要求极高的应用中虚拟 DOM 无法进行针对性的机制优化。
2. 首次渲染大量 DOM 时，由于多了一层虚拟 DOM 的计算，会比 innerHTML 插入慢。
